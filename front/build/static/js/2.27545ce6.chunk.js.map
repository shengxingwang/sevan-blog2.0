{"version":3,"sources":["components/top/top.js","components/alert/alert.js","pages/news/news.js"],"names":["Top","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","keyValue","event","setState","target","value","searchHand","react_default","a","createElement","className","type","onChange","changVal","bind","onClick","searchHander","Component","Message","closeAlert","isOpen","isControl","closeLayout","dangerouslySetInnerHTML","__html","alCon","News","page","offset","totalPage","getNewData","console","log","newsData","curPage","data","action","getNewsList","url","_this2","StatuDom","newsList","map","item","i","imgStr","imgurl","split","key","showAler","src","alt","title","ptime","address","ndesc","turnUrl","href","top_Top","newsSearch","disabled","prev","next","alert_Message","connect"],"mappings":"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","file":"static/js/2.27545ce6.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\n//import propTypes from 'prop-types';\r\nimport './top.css'\r\n\r\nexport default class Top extends Component{\r\n    // static propTypes = {\r\n    //     keyValue: propTypes.string.any\r\n    // };\r\n    constructor(props){\r\n        super(props);\r\n        this.state = {\r\n            keyValue:''\r\n        }\r\n    }\r\n    changVal(event){\r\n        this.setState({\r\n            keyValue:event.target.value\r\n        })\r\n    };\r\n    searchHander(){\r\n        this.props.searchHand(this.state.keyValue);\r\n    };\r\n    render(){\r\n        return(\r\n            <div className='top'>\r\n                <div className='search-inp'>\r\n                    <input type=\"text\" onChange={this.changVal.bind(this)} value={this.state.keyValue} />\r\n                    <button className='searchbtn' onClick={this.searchHander.bind(this)}></button>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n}","import React,{Component} from 'react';\r\nimport './alert.css';\r\nimport PropTypes from 'prop-types';\r\n\r\nexport default class Message extends Component{\r\n\r\n    static propTypes = {\r\n        isOpen:PropTypes.bool.isRequired,\r\n        isControl:PropTypes.bool.isRequired,\r\n        alCon:PropTypes.string.isRequired,\r\n        closeAlert:PropTypes.func,\r\n    };\r\n\r\n    closeLayout(){\r\n        this.props.closeAlert();\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            this.props.isOpen&&<div className='layout'>\r\n                    <div className={this.props.isControl?'alert-box':'alert-tip'}>\r\n                        {this.props.isControl&&<i className='closebtn' onClick={this.closeLayout.bind(this)}></i>}\r\n                        <div className='aler-con'>\r\n                            <div dangerouslySetInnerHTML={{__html: this.props.alCon}}></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n        );\r\n    }\r\n\r\n};","import React, {Component} from 'react';\r\nimport './news.css';\r\nimport propTypes from 'prop-types';\r\nimport {connect} from 'react-redux';\r\nimport {getNewsList} from \"./../../store/actions/action\";\r\nimport Top from \"./../../components/top/top\";\r\nimport Message from './../../components/alert/alert'\r\n\r\nclass News extends Component{\r\n    static propTypes = {\r\n        getNewsList:propTypes.func.isRequired,\r\n        newsData:propTypes.object.isRequired\r\n    };\r\n    state = {\r\n        page:1,\r\n        offset:10,\r\n        totalPage:1,\r\n        isControl:false,\r\n        isOpen:false,\r\n        alCon:'',\r\n    };\r\n    componentDidMount(){\r\n        this.getNewData();\r\n    };\r\n    newsSearch(value){\r\n        console.log(value);\r\n    };\r\n    prev(){\r\n        this.setState({\r\n            page:this.props.newsData.curPage+1,\r\n        });\r\n    };\r\n    next(){\r\n        this.setState({\r\n            page:this.props.newsData.curPage-1,\r\n        });\r\n    };\r\n    getNewData(){\r\n        let data = {\r\n            action:'getStatus',\r\n            page:this.state.page,\r\n            offset:this.state.offset\r\n        };\r\n        this.props.getNewsList(data);\r\n    };\r\n\r\n    showAler(url, event){\r\n        this.setState({\r\n            isControl:true,\r\n            isOpen:true,\r\n            alCon:\"<img src=\"+url+\" alt='大图' />\",\r\n        })\r\n    };\r\n    closeAlert() {\r\n        this.setState({\r\n            isControl:false,\r\n            isOpen:false,\r\n            alCon:'',\r\n        })\r\n    };\r\n    render (){\r\n        let StatuDom =  this.props.newsData.newsList.map((item, i) => {\r\n            let imgStr = '';\r\n            if(item.imgurl){\r\n                let imgArr = item.imgurl.split('|');\r\n                imgStr = imgArr.map((url,i)=>{\r\n                    return (\r\n                        <img key={i} onClick={this.showAler.bind(this,url)} src={url} alt={item.title} />\r\n                    )\r\n                });\r\n            }\r\n            return (\r\n                <div key={i} className='statu-item'>\r\n                    <div className='statu-img'>\r\n                        {imgStr}\r\n                    </div>\r\n                    <div className='statu-det'>\r\n                        <p className='statu-tit'>\r\n                            <span className='t'>title：</span><span className='v'>{item.title}</span>\r\n                        </p>\r\n                        <p className='statu-time'>\r\n                            <span className='t'>time：</span><span className='v'>{item.ptime}</span>\r\n                            {item.address&&<span>{'locale：'+item.address}</span>}\r\n                        </p>\r\n                        <p className='contxt'>{item.ndesc}</p>\r\n                        {item.turnUrl&&<a className='turnlink' href={item.turnUrl}>阅读全文</a>}\r\n                    </div>\r\n                </div>\r\n            )\r\n        });\r\n\r\n        return(\r\n            <div className='news-box rig-container'>\r\n                <Top searchHand={this.newsSearch}></Top>\r\n                <div className='news-list'>\r\n                    {StatuDom}\r\n                </div>\r\n                <div className='btnGroup'>\r\n                    <button disabled={this.props.newsData.curPage<=1} className='prev' onClick={this.prev}>上一页</button>\r\n                    <label>{this.props.newsData.curPage}</label>\r\n                    <button disabled={this.props.newsData.curPage>=this.props.newsData.totalPage} className='next' onClick={this.next}>下一页</button>\r\n                </div>\r\n                <Message closeAlert={this.closeAlert.bind(this)} isOpen={this.state.isOpen} isControl={this.state.isControl} alCon={this.state.alCon} />\r\n            </div>\r\n        )\r\n    }\r\n}\r\nexport default connect(state => ({\r\n    newsData:state.newsData,\r\n}),{\r\n    getNewsList\r\n})(News);\r\n"],"sourceRoot":""}